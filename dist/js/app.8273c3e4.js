(function(t){function e(e){for(var s,n,c=e[0],o=e[1],l=e[2],m=0,p=[];m<c.length;m++)n=c[m],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&p.push(a[n][0]),a[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],s=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=r[0]))}return t}var s={},a={app:0},i=[];function n(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=s,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var s=r("8a23"),a=r.n(s);a.a},"1ad4":function(t,e,r){"use strict";var s=r("6d55"),a=r.n(s);a.a},"207c":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-row",[r("v-col",{attrs:{cols:"3",lg:"3",md:"3",sm:"12"}},[r("TheSidebar")],1),r("v-col",{attrs:{cols:"9",lg:"9",md:"9",sm:"12"}},[r("VueLeaflet")],1)],1)],1)},i=[],n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"sidebar"},[r("v-card",{attrs:{color:"#F6F6F6",outlined:""}},[r("v-card-text",[r("v-select",{attrs:{items:t.cityList,dense:"",outlined:""},model:{value:t.selectCity,callback:function(e){t.selectCity=e},expression:"selectCity"}}),r("v-select",{staticClass:"mt-1",attrs:{items:t.districtList,dense:"",outlined:""},model:{value:t.selectDistrict,callback:function(e){t.selectDistrict=e},expression:"selectDistrict"}})],1),r("v-card-text",{staticClass:"text-left pt-0"},[t._v(" 有取得口罩數量的藥局有 "),r("span",{staticClass:"title pharnumber-color"},[t._v(t._s(t.pharmaciesNumber))]),t._v(" 家 ")])],1),r("div",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"400px"},attrs:{id:"scroll-target"}},[r("v-card",{directives:[{name:"show",rawName:"v-show",value:0===t.markerList.length,expression:"markerList.length === 0"}],attrs:{outline:"","min-height":"178"}},[r("v-card-title",{staticClass:"d-flex justify-center align-stretch"},[t._v(" 尚未提供藥局資料！ ")])],1),t._l(t.pharmaciesList,(function(e,s){return r("v-card",{key:s,staticClass:"mx-auto",attrs:{outlined:""},on:{click:function(r){return t.choosePharmacy(e.name)}}},[r("v-card-title",{staticClass:"pb-1"},[r("span",{staticClass:"title mb-1"},[t._v(t._s(e.name))])]),r("v-card-text",{staticClass:"py-1"},[r("v-icon",{staticClass:"mr-1",domProps:{textContent:t._s("mdi-map-marker")}}),t._v(" "+t._s(e.address)+" ")],1),r("v-card-text",{staticClass:"d-flex align-center py-1"},[r("v-icon",{staticClass:"mr-1",domProps:{textContent:t._s("mdi-phone-classic")}}),t._v(" "+t._s(e.phone)+" ")],1),r("v-card-actions",{staticClass:"d-flex justify-center mb-2"},[r("v-chip",{staticClass:"mr-1",attrs:{color:e.mask_adult>0?"#668AFE":"#E2E2E2","text-color":e.mask_adult>0?"#FFF":"#9C9C9C",label:""},domProps:{textContent:t._s(e.mask_adult>0?"成人 : "+e.mask_adult+" 個":"成人 : 已售完")}}),r("v-chip",{attrs:{color:e.mask_child>0?"#668AFE":"#E2E2E2","text-color":e.mask_child>0?"#FFF":"#9C9C9C",label:""},domProps:{textContent:t._s(e.mask_child>0?"兒童 : "+e.mask_child+" 個":"兒童 : 已售完")}})],1)],1)}))],2)],1)},c=[],o=(r("4de4"),r("a630"),r("d81d"),r("b0c0"),r("d3b7"),r("6062"),r("3ca3"),r("ddb0"),{name:"TheSidebar",data:function(){return{maskNumber:[]}},computed:{list:function(){return this.$store.state.list},cityList:function(){if(this.list)return Array.from(new Set(this.list.map((function(t){return t.city}))))},districtList:function(){var t=this;if(this.cityList&&this.selectCity)return this.list.filter((function(e){return e.city===t.selectCity})).map((function(t){return t.district}))},markerList:function(){return this.$store.getters.markerList},pharmaciesData:function(){return this.$store.state.pharmaciesData},pharmaciesList:function(){var t=this;return this.pharmaciesData.filter((function(e){return e.properties.county===t.selectCity&&e.properties.town===t.selectDistrict})).map((function(t){return t.properties}))},pharmaciesNumber:function(){return this.pharmaciesData.filter((function(t){return 0!==t.properties.mask_adult||0!==t.properties.mask_child})).length},selectCity:{get:function(){return this.$store.state.selectCity},set:function(t){this.$store.commit("UPDATE_CITY_MESSAGE",t)}},selectDistrict:{get:function(){return this.$store.state.selectDistrict},set:function(t){this.$store.commit("UPDATE_DISTRICT_MESSAGE",t)}},selectPharmacy:{get:function(){return this.$store.state.selectPharmacy},set:function(t){this.$store.commit("UPDATE_PHARMACY_MESSAGE",t.name)}}},mounted:function(){this.$store.dispatch("getList"),this.$store.dispatch("getPharmaciesData")},methods:{choosePharmacy:function(t){this.$store.commit("UPDATE_PHARMACY_MESSAGE",t)}}}),l=o,u=(r("1ad4"),r("2877")),m=r("6544"),p=r.n(m),f=r("b0af"),d=r("99d9"),h=r("cc20"),v=r("a523"),C=r("132d"),_=r("b974"),y=Object(u["a"])(l,n,c,!1,null,null,null),b=y.exports;p()(y,{VCard:f["a"],VCardActions:d["a"],VCardText:d["b"],VCardTitle:d["c"],VChip:h["a"],VContainer:v["a"],VIcon:C["a"],VSelect:_["a"]});var E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"vue-leaflet"},[r("l-map",{staticStyle:{width:"100%",height:"600px"},attrs:{zoom:t.zoom,center:t.markerCenter}},[r("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),r("v-marker-cluster",t._l(t.markerList,(function(e,s){return r("l-marker",{key:s,attrs:{"lat-lng":e.geometry,icon:t.icon}},[r("l-popup",[r("v-card",{staticClass:"mx-auto",attrs:{outlined:"",flat:""}},[r("v-card-title",{staticClass:"pb-1"},[r("span",{staticClass:"title mb-1"},[t._v(t._s(e.properties.name))])]),r("v-card-text",{staticClass:"py-1"},[r("v-icon",{staticClass:"mr-1",domProps:{textContent:t._s("mdi-map-marker")}}),t._v(" "+t._s(e.properties.address)+" ")],1),r("v-card-text",{staticClass:"d-flex align-center py-1"},[r("v-icon",{staticClass:"mr-1",domProps:{textContent:t._s("mdi-phone-classic")}}),t._v(" "+t._s(e.properties.phone)+" ")],1),r("v-card-actions",{staticClass:"d-flex justify-center mb-2"},[r("v-chip",{staticClass:"mr-1",attrs:{color:e.properties.mask_adult>0?"#668AFE":"#E2E2E2","text-color":e.properties.mask_adult>0?"#FFF":"#9C9C9C",label:""},domProps:{textContent:t._s(e.properties.mask_adult>0?"成人 : "+e.properties.mask_adult+" 個":"成人 : 已售完")}}),r("v-chip",{attrs:{color:e.properties.mask_child>0?"#668AFE":"#E2E2E2","text-color":e.properties.mask_child>0?"#FFF":"#9C9C9C",label:""},domProps:{textContent:t._s(e.properties.mask_child>0?"兒童 : "+e.properties.mask_child+" 個":"兒童 : 已售完")}})],1)],1)],1)],1)})),1)],1)],1)},g=[],A=(r("4160"),r("159b"),r("2699")),P=r("a40a"),k=r("4e2b"),S=r("f60f"),x=r("ca9f"),D=r.n(x),T=r("e11e"),$=r.n(T),w={name:"VueLeaflet",components:{"v-marker-cluster":D.a,LMap:A["a"],LTileLayer:P["a"],LMarker:k["a"],LPopup:S["a"]},data:function(){return{center:$.a.latLng(25.0292998,121.5030307),zoom:16,url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',icon:$.a.icon({iconUrl:"/images/markerCustom.svg",iconSize:[32,37],iconAnchor:[16,37]})}},computed:{markerList:function(){return this.$store.getters.markerList},markerCenter:function(){var t=this,e=[];return""===this.$store.state.selectPharmacy&&""!==this.selectDistrict?(this.markerList.forEach((function(r){r.properties.town===t.$store.state.selectDistrict&&e.push(r.geometry)})),e[0]):this.$store.state.selectPharmacy?(this.markerList.forEach((function(r){r.properties.name===t.$store.state.selectPharmacy&&e.push(r.geometry)})),e[0]):void(this.markerList&&this.markerList.length)},selectCity:{get:function(){return this.$store.state.selectCity},set:function(t){this.$store.commit("UPDATE_CITY_MESSAGE",t)}},selectDistrict:{get:function(){return this.$store.state.selectDistrict},set:function(t){this.$store.commit("UPDATE_DISTRICT_MESSAGE",t)}},selectPharmacy:{get:function(){return this.$store.state.selectPharmacy},set:function(t){this.$store.commit("UPDATE_PHARMACY_MESSAGE",t)}}}},M=w,V=(r("b568"),Object(u["a"])(M,E,g,!1,null,null,null)),F=V.exports;p()(V,{VCard:f["a"],VCardActions:d["a"],VCardText:d["b"],VCardTitle:d["c"],VChip:h["a"],VIcon:C["a"]});var j={name:"App",components:{TheSidebar:b,VueLeaflet:F}},I=j,O=(r("034f"),r("7496")),U=r("62ad"),R=r("0fd9"),G=Object(u["a"])(I,a,i,!1,null,null,null),Y=G.exports;p()(G,{VApp:O["a"],VCol:U["a"],VRow:R["a"]});var H=r("8c4f");s["a"].use(H["a"]);var z=[{path:"/",name:"VueLeaflet",component:F}],N=new H["a"]({routes:z}),J=N,q=r("2f62"),B=r("bc3a"),K=r.n(B);s["a"].use(q["a"]);var Q=new q["a"].Store({strict:!0,state:{list:[],selectCity:"臺北市",selectDistrict:"中正區",selectPharmacy:"",pharmaciesData:[]},getters:{markerList:function(t){return t.pharmaciesData.filter((function(e){return e.properties.county===t.selectCity&&e.properties.town===t.selectDistrict})).map((function(t){return{properties:t.properties,geometry:L.latLng(t.geometry.coordinates[1],t.geometry.coordinates[0])}}))}},mutations:{SET_LIST:function(t,e){t.list=e},SET_PHARMACIES_DATA:function(t,e){t.pharmaciesData=e},UPDATE_CITY_MESSAGE:function(t,e){t.selectCity=e,t.selectDistrict=t.list.filter((function(e){return e.city===t.selectCity})).map((function(t){return t.district}))[0],t.selectPharmacy=""},UPDATE_DISTRICT_MESSAGE:function(t,e){t.selectDistrict=e,t.selectPharmacy=""},UPDATE_PHARMACY_MESSAGE:function(t,e){t.selectPharmacy=e}},actions:{getList:function(t){var e=t.commit;K.a.get("/list.json").then((function(t){e("SET_LIST",t.data)}))},getPharmaciesData:function(t){var e=t.commit,r="https://kiang.github.io/pharmacies/json/points.json";K.a.get(r).then((function(t){e("SET_PHARMACIES_DATA",t.data.features)}))},choosePharmacy:function(t,e){var r=t.commit;r("UPDATE_PHARMACY_MESSAGE",e)}},modules:{}}),W=(r("6cc5"),r("f309"));s["a"].use(W["a"]);var X=new W["a"]({}),Z=r("a7fe"),tt=r.n(Z);s["a"].use(tt.a,K.a),delete T["Icon"].Default.prototype._getIconUrl,T["Icon"].Default.mergeOptions({iconRetinaUrl:r("584d"),iconUrl:r("6397"),shadowUrl:r("e2b9")}),s["a"].config.productionTip=!1,new s["a"]({router:J,store:Q,vuetify:X,render:function(t){return t(Y)}}).$mount("#app")},"6d55":function(t,e,r){},"8a23":function(t,e,r){},b568:function(t,e,r){"use strict";var s=r("207c"),a=r.n(s);a.a}});
//# sourceMappingURL=app.8273c3e4.js.map